<!---Yong Mei Chen fin ai Website-->

<html>
    <head>
        <meta charset="UTF-8">
        <style>
            html{
                color: white;
            }
            body {
                background-image: url(/fullbackimage2.JPG);
                    background-repeat:no-repeat;
                   background-size:cover;
            } 
            div{ 
                text-align: center;
            }
            h1{
                text-align: center; 
            }
            .button {
                background-color: #555555;
                border: none;
                color: white;
                padding: 15px 32px;
                text-align: center;
                text-decoration: none;
                display: inline-block;
                font-size: 16px;
                margin: 4px 2px;
                cursor: pointer;
                }
            
            </style>

        <title>House price predictions Page</title>   
        <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-database.js"></script> 
        <script src="http://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
        <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase.js"></script> 
        <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-auth.js"></script>  
        
        <script src ="fireBase.js"></script>
        <script src ="main.js"></script>   

    </head>

    <body>
        <h1>Report for house price predictions</h1> 
        
        <div>
            <button class="button" name="scriptbutton" id="script" value="run script"  onclick = "location.href = 'home.html' ">Home</button>
            <button class="button" name="Run house report" type="submit" onclick = "location.href = 'house_report.html'; ">House report</button> 
            <button class="button" name="loan report" type="loan report"  onclick = "location.href = 'loan_report.html'; ">Loan report</button>
            <button class="button" name="export datasets" type="submit"  onclick = "location.href = 'export_datasets.html'; ">Export datasets</button>
            <button class="button" name="view clients" id="script" value="view clients"  onclick = "location.href = 'viewclients.html'; ">View Clients</button>
            <button class="button" name="Log Out" type="submit" value="Log Out" onclick = "mainApp.logOut()">Log Out</button>
            <button class="button" name="scriptbutton" id="script" value="run script" onclick = "goPython()">Generate house prices</button><br>   

            <script>
                function goPython(){
                    $.ajax({
                     url: "house_price_predictions.py",
                     context: document.body
                    }).done(function() {
                     alert('Please duplicate this tab and enter http://localhost:3000/house to start the house prices generator '); 
                    });
                }
            </script> 
            
        </div><br><br> 

                House ID number <input id = "userinput"></input>
                <button onclick= "getValue()"> Get client</button><br><br>
         
                Enter result from house prices generator <input id = "priceresult"></input>
                <button onclick= "pushResult()"> Submit result</button>

        <p id = "demo"></p><br>
        <h4 id = "second"></h4>  
        <h4 id = "third"></h4> 
        <h4 id = "fourth"></h4> 
        <h4 id = "fifth"></h4> 
        <h4 id = "sixth"></h4> 
        <h4 id = "seventh"></h4> 
        <h4 id = "eighth"></h4> 
        <h4 id = "ninth"></h4> 
        <h4 id = "tenth"></h4>  
        <h4 id = "twelfth"></h4> 
  

        <script> 
            var x, text;
            function getValue(){ 
                
                x = document.getElementById("userinput").value;

                if (x != null){

                    text = 'The House details for house id '+ x + ' is shown below:';
                    var second = document.getElementById('second');
                    var dbRef = firebase.database().ref().child('HouseSpecification/'+ x +'/bathrooms');
                    dbRef.on('value',snap => second.innerText = 'Number of bathrooms in this house is : '+snap.val());

                    var third = document.getElementById('third');
                    var dbRef = firebase.database().ref().child('HouseSpecification/'+ x +'/bedrooms');
                    dbRef.on('value',snap => third.innerText = 'Number of bedrooms in this house is: '+snap.val());

                    var fourth = document.getElementById('fourth');
                    var dbRef = firebase.database().ref().child('HouseSpecification/'+ x +'/condition');
                    dbRef.on('value',snap => fourth.innerText = 'Condition of this house is: '+snap.val());

                    var fifth = document.getElementById('fifth');
                    var dbRef = firebase.database().ref().child('HouseSpecification/'+ x +'/floors');
                    dbRef.on('value',snap => fifth.innerText = 'Number of floors in this house is: '+snap.val());

                    var sixth = document.getElementById('sixth');
                    var dbRef = firebase.database().ref().child('HouseSpecification/'+ x +'/grade');
                    dbRef.on('value',snap => sixth.innerText = 'Grade given to this house is : '+snap.val());

                    var seventh = document.getElementById('seventh');
                    var dbRef = firebase.database().ref().child('HouseSpecification/'+ x +'/house_view');
                    dbRef.on('value',snap => seventh.innerText = 'Number of house views for this house is : '+snap.val());

                    var eighth = document.getElementById('eighth');
                    var dbRef = firebase.database().ref().child('HouseSpecification/'+ x +'/price');
                    dbRef.on('value',snap => eighth.innerText = 'Price for this house is : '+snap.val());

                    var ninth = document.getElementById('ninth');
                    var dbRef = firebase.database().ref().child('HouseSpecification/'+ x +'/sqft_above');
                    dbRef.on('value',snap => ninth.innerText = 'Squarefoot above of this house is : '+snap.val());

                    var tenth = document.getElementById('tenth');
                    var dbRef = firebase.database().ref().child('HouseSpecification/'+ x +'/sqft_basement');
                    dbRef.on('value',snap => tenth.innerText = 'Squarefoot basement of this house is : '+snap.val());

                    var twelfth = document.getElementById('twelfth');
                    var dbRef = firebase.database().ref().child('HouseSpecification/'+ x +'/sqft_living');
                    dbRef.on('value',snap => twelfth.innerText = 'Squarefoot living space for this house is : '+ snap.val());

                    var tenth = document.getElementById('tenth');
                    var dbRef = firebase.database().ref().child('HouseSpecification/'+ x +'/sqft_lot');
                    dbRef.on('value',snap => tenth.innerText = 'Squarefoot lot for this house is : '+snap.val());


                    var tenth = document.getElementById('tenth');
                    var dbRef = firebase.database().ref().child('HouseSpecification/'+ x +'/waterfront');
                    dbRef.on('value',snap => tenth.innerText = 'Number of waterfronts for this house is : '+snap.val());


                    var tenth = document.getElementById('tenth');
                    var dbRef = firebase.database().ref().child('HouseSpecification/'+ x +'/year_built');
                    dbRef.on('value',snap => tenth.innerText = 'This house was built in : '+snap.val());


                    var tenth = document.getElementById('tenth');
                    var dbRef = firebase.database().ref().child('HouseSpecification/'+ x +'/year_renovated');
                    dbRef.on('value',snap => tenth.innerText = 'This house was renovated in : '+snap.val());

                        }
                        document.getElementById("demo").innerHTML = text;  
                    }

       
        function pushResult(){
            
            result = document.getElementById("priceresult").value;
            firebase.database().ref('HouseSpecification/' + x +'/Price').set({
          // Price : result
          result
           });
       }
     
        var firebaseConfig = {
            apiKey: "AIzaSyACPL6AK5ais6oLbrRi7VIb3VLW1lSeCNU",
            authDomain: "finaisystem.firebaseapp.com",
            databaseURL: "https://finaisystem.firebaseio.com",
            projectId: "finaisystem",
            storageBucket: "finaisystem.appspot.com",
            messagingSenderId: "248168444493",
            appId: "1:248168444493:web:ed04ddf7469898c0a82204",
            measurementId: "G-5DTT5JN9DR"
        };
    
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        var dbRef = firebase.database().ref('Client');
        </script> 
  
    </body>
</html>